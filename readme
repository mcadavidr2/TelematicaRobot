Readme telematica
Autor: Mateo Cadavid Ramírez  



##  Descripción General

Este proyecto implementa un servicio de comunicaciones distribuido entre:

- Un **servidor en C** corriendo en una instancia EC2 de AWS.
- Un **puente WebSocket en Python** (`ws_bridge.py`) también desplegado en EC2.
- Dos clientes locales:
  - `client.py` → Robot normal (mueve y recibe sensores)
  - `client_admin.py` → Cliente administrador (envía comandos manuales)
- Una **página web en tiempo real (`index.html`)** que muestra:
  - La posición del robot en un plano cartesiano 11×11.
  - Variables atmosféricas enviadas por el servidor (TEMP, HUM, PRES).

Todo se comunica a través del puerto **8000 (TCP)** y el WebSocket usa el puerto **8765**.

---

#  Estructura del Proyecto

TELEMATICAROBOT/
│
├── client_python/
│ ├── client.py
│ ├── client_admin.py
│ └── ws_bridge.py
│
├── server_c/
│ ├── server.c
│ ├── server <-- ejecutable compilado en Linux (EC2)
│ └── server.exe <-- versión para Windows (solo referencia)
│
├── index.html <-- página web en tiempo real
│
├── readme <-- archivo original
└── requerimientos <-- dependencias mínimas



#  **1. Requisitos**

## Local (Windows)
- Python 3.10+  
- VSCode  
- Extensión Python  
- Git Bash o PowerShell  

## Servidor (EC2 – Ubuntu)
- Instancia Ubuntu 22.04 o superior  
- Puertos abiertos:  
  - **8000/tcp** → Servidor C  
  - **8765/tcp** → WebSocket  
  - **80/tcp** (opcional si se sirve la página web desde EC2)

Dependencias en EC2:
sudo apt update
sudo apt install python3 python3-pip python3-websockets build-essential



#  **2. Instalación y Despliegue (Paso a Paso)**

##  2.1. Subir proyecto a EC2
En tu máquina local:

scp -i llave.pem -r TelematicaRobot ubuntu@IP_EC2:/home/ubuntu/




##  2.2. Compilar y ejecutar el servidor C en EC2

cd ~/TelematicaRobot/server_c
gcc server.c -o server
nohup ./server > server.log 2>&1 &



Verificar:

ps aux | grep server


##  2.3. Ejecutar el WebSocket Bridge en EC2

cd ~/TelematicaRobot
nohup python3 ws_bridge.py > ws.log 2>&1 &

makefile
Copiar código

Verificar:

ps aux | grep ws_bridge



##  2.4. Verificar puertos abiertos

sudo ss -tulnp | grep 8000
sudo ss -tulnp | grep 8765



##  2.5. Probar desde Windows (cliente normal)

cd client_python
python client.py



##  2.6. Probar cliente administrador

python client_admin.py



Probar comandos:

up
down
left
right
sensor



##  2.7. Abrir página web en tiempo real

Abre en tu navegador:

file://C:/.../TelematicaRobot/index.html


O si la sirves desde EC2:

http://IP_EC2/index.html



La página mostrará:

- Robot en movimiento  
- Datos atmosféricos en tiempo real  



#  **3. Cómo funciona la comunicación**

client_admin.py →

client.py --------> Servidor C (puerto 8000) → ws_bridge.py → index.html (WebSocket 8765)


#  **4. Ejemplos de uso (IMPORTANTE PARA LA NOTA)**

## 4.1. Ejemplo de inicio del cliente

PS> python client.py
Conectado al servidor
[Servidor] MOVED x=5 y=6
[Servidor] SENSOR TEMP=25 HUM=50 PRES=1020



## 4.2. Ejemplo de comandos desde admin

up
right



## 4.3. Lo que aparece en el navegador

- Cuadrícula 11×11  
- Robot moviéndose en tiempo real  
- Texto:

SENSOR TEMP=23 HUM=45 PRES=1018



#  5. Errores comunes y cómo resolverlos

###  Error:  
`ModuleNotFoundError: No module named 'websockets'`

✔ Solución:

sudo apt install python3-websockets



###  Error:  
`TimeoutError: WinError 10060`

✔ Soluciones:

1. Asegurar que el servidor en EC2 esté corriendo.  
2. Abrir el puerto 8000 en AWS Security Groups.  
3. Probar conectividad:

Test-NetConnection IP_EC2 -Port 8000


###  Error:  
`python3: can't open file '/home/ubuntu/ws_bridge.py'`

 Solución: asegurarse de estar en el directorio correcto:

cd ~/TelematicaRobot
nohup python3 ws_bridge.py > ws.log 2>&1 &



###  Error: WebSocket no transmite al navegador

✔ Revisar:

sudo ss -tulnp | grep 8765
tail -f ws.log




